<div class="fondo-oficios">

<p style="text-align:right;">
  <strong>Folio:</strong>
  <%= @constancia_documento.folio %>
</p>
<br><br><br><br><br>
<br><br><br><br><br>
<p>
  &nbsp;
</p>

<p style="text-align:right">
  <%= @constancia_documento.numero_oficio %>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br>
  <%= @constancia_documento.numero_registro %>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br>
  <%= @constancia_documento.codigo_prestatario %>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br>
  <%= @constancia_documento.clave_programa %>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br>
  <%= @constancia_documento.fecha %>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</p>

<br><br><br><br><br>
<br><br><br><br><br>
<p>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;
  <%= @constancia_documento.nombre %> <%= @constancia_documento.apellido_paterno %>
  <%= @constancia_documento.apellido_materno %>
  <br>
  <br>
  <br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;
  <%= @constancia_documento.boleta %>
  <br>
  <br>
  <br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;
  <%= @constancia_documento.unidad_academica %>
  <br>
  <br>
  <br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;
  <%= @constancia_documento.programa_academico %>
  <br>
  <br>
  <br>
  <br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;

  <%= @constancia_documento.periodo %>
  <br>
  <br>
  <br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;
  <%= @constancia_documento.prestatario %>
</p>
<br><br><br><br><br><br>
<table style="font-size:9px; margin:0 auto;" width="800">
  <tr>
    <td rowspan="2">
      <% qr = RQRCode::QRCode.new(constancia_documento_url(@constancia_documento.uuid), size: 10, level: :h ) %>
        <%= raw(
        qr.as_svg(
          offset: 0,
          color: '000',
          shape_rendering: 'crispEdges',
          module_size: 2,
          standalone: true
        ))
        %>
    </td>
    <td style="padding-left: 10px">
      <strong>Firma electr√≥nica:</strong><br>
      <%= @constancia_documento.firma_direccion %>
    </td>
  </tr>
  <tr>
    <td style="padding-left: 10px">
      <strong>Sello:</strong><br>
      <%
        private_key = OpenSSL::PKey::RSA.new(File.read(Rails.root.join('private.pem')))
        reg = @constancia_documento
        info = reg.firma_direccion.gsub("\n","")
        infobin = Base64.decode64(info)
      %>
      <%= private_key.private_decrypt(infobin) %>
    </td>
  </tr>
  </table>
<p style="text-align:center">

</p>
<br><br><br>
</div>
